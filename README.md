# TaxCheck - 収入の壁チェッカー

学生アルバイト・フリーランスのための税金・社会保険計算アプリ

## 概要

TaxCheckは、学生やフリーランスが「収入の壁」を超えないよう収入を管理するためのWebアプリケーションです。103万円の壁、106万円の壁、130万円の壁など、複雑な税制・社会保険制度を一目で理解し、適切な収入管理をサポートします。

## 主な機能

### アルバイト・パート版
- **税金・社会保険の自動計算**（所得税・住民税・社会保険料）
- **5本柱の収入の壁を表示**
  - 103万円の壁（所得税）
  - 106万円の壁（社会保険加入）
  - 130万円の壁（扶養・社会保険）
  - 150万円の壁（配偶者控除）
  - 201万円の壁（住民税）
- **月別収入管理**
- **次の壁までの距離表示**
- **リアルタイム壁警告**
- **グラフによる視覚化**

### 業務委託版
- **事業所得ベースの税金計算**（所得税・住民税・個人事業税）
- **業務委託特有の壁を表示**
  - 48万円の壁（所得税）
  - 103万円の壁（親の扶養控除）
  - 113万円の壁（青色申告でも所得税発生）
  - 130万円の壁（社会保険扶養）
  - 290万円の壁（個人事業税）
- **青色申告vs白色申告の比較**
- **経費率シミュレーション**
- **業種別経費率比較**
- **確定申告要否の判定**

## 技術スタック

### バックエンド
- **Python 3.9+**
  - 税金・社会保険料の計算ロジック
  - 壁判定アルゴリズム

### フロントエンド（予定）
- **Next.js** または **Streamlit**
- **Chart.js** / **Recharts**（グラフ表示）
- **Tailwind CSS**（スタイリング）

### データ保存
- **localStorage**（ローカル保存）
- **Firebase**（将来の拡張）

## プロジェクト構成

```
taxcheck/
├── README.md                     # このファイル
├── 仕様書.md                      # アルバイト・パート版の詳細仕様
├── 仕様書_業務委託版.md            # 業務委託版の詳細仕様
├── backend/                      # バックエンド（Python）
│   ├── calculator_parttime.py    # アルバイト版計算ロジック
│   ├── calculator_freelance.py   # 業務委託版計算ロジック
│   ├── walls_data.py             # 収入の壁マスターデータ
│   └── utils.py                  # ユーティリティ関数
├── frontend/                     # フロントエンド（Next.js or Streamlit）
│   └── (実装予定)
└── tests/                        # テストコード
    └── (実装予定)
```

## セットアップ

### 必要な環境
- Python 3.9以上
- Node.js 18以上（Next.jsを使用する場合）

### インストール

```bash
# リポジトリをクローン
git clone https://github.com/kshoda-lgtm/taxcheck.git
cd taxcheck

# Python依存関係をインストール
pip install -r requirements.txt

# フロントエンド依存関係をインストール（Next.jsの場合）
cd frontend
npm install
```

## 使い方

### 計算ロジックのテスト（Python）

```python
from backend.calculator_parttime import calculate_parttime_tax

# アルバイト版の計算例
result = calculate_parttime_tax(
    age=20,
    annual_income=1200000,
    is_student=True,
    dependent_type="parent",
    company_size="large",
    weekly_hours=25
)

print(f"所得税: {result['income_tax']}円")
print(f"住民税: {result['resident_tax']}円")
print(f"手取り: {result['net_income']}円")
```

### アプリの起動（予定）

```bash
# Streamlitの場合
streamlit run app.py

# Next.jsの場合
npm run dev
```

## 収入の壁とは？

### アルバイト・パート版
| 壁 | 何が起こるか | 影響 |
|---|------------|------|
| **103万円** | 所得税が発生 | 本人に課税 |
| **106万円** | 社会保険加入義務（条件あり） | 年間約15万円の負担 |
| **130万円** | 扶養から外れる | 年間約20万円の負担 |
| **150万円** | 配偶者控除減少 | 親の税負担増 |
| **201万円** | 住民税発生 | 本人に課税 |

### 業務委託版
| 壁 | 何が起こるか | 影響 |
|---|------------|------|
| **48万円** | 所得税が発生 | 本人に課税 |
| **103万円** | 親の扶養控除喪失 | 親の税負担増 |
| **113万円** | 青色申告でも所得税発生 | 本人に課税 |
| **130万円** | 社会保険扶養から外れる | 国保・年金加入必要 |
| **290万円** | 個人事業税発生 | 本人に課税 |

## 開発ロードマップ

### Phase 1: MVP（最小機能製品） ✅
- [x] 仕様書作成（アルバイト版・業務委託版）
- [ ] 計算ロジック実装（Python）
- [ ] 基本的なUI実装

### Phase 2: 機能拡張
- [ ] グラフ表示機能
- [ ] リアルタイム壁警告
- [ ] 青色申告vs白色申告比較（業務委託版）
- [ ] 経費率シミュレーション（業務委託版）

### Phase 3: 体験向上
- [ ] レスポンシブデザイン
- [ ] データ保存機能（localStorage）
- [ ] PDF出力機能

### Phase 4: 拡張機能
- [ ] Firebase連携
- [ ] 複数年データ比較
- [ ] 確定申告書類の自動生成補助

## 注意事項

⚠️ このアプリは簡易計算ツールです。正確な税額計算には税理士への相談が必要です。

- 社会保険料率は概算値を使用
- 各種特別控除（医療費控除等）は考慮していません
- 計算結果はあくまで目安です

## ライセンス

MIT License

## コントリビューション

プルリクエスト・Issueを歓迎します！

## 作成者

- GitHub: [@kshoda-lgtm](https://github.com/kshoda-lgtm)

---

**🤖 Generated with [Claude Code](https://claude.com/claude-code)**
